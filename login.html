<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="/HW(5.3-5.6)/public/bootstrap.css">
    <script src="/HW(5.3-5.6)/public/boostrap.bundle.js"></script>
    <script src="/HW(5.3-5.6)/public/sweetalert2.js"></script>
</head>

<body>
    <div class="container">
        <h1 class="text-center mt-5">Asset Management System</h1>
        <form class="border shadow-lg m-5 rounded border-primary mx-auto" id="loginForm"
            style="width: 30rem; height: 18rem;">
            <div class="mx-5 mt-4">
                <label for="username" class="form-label">Username</label>
                <input type="text" name="username" id="username" class="form-control" required>
            </div>

            <div class="mx-5 mt-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" name="password" id="password" class="form-control" required>
            </div>

            <div class="mx-5 mt-3">
            <button type="submit" id="submit" class="btn btn-primary form-control py-2">Sign In</button>    
            </div>
        </form>


    </div>

    <script>

        const users = [
            {"id":1,"username":"admin","password":"1111","role":1},
            {"id":2,"username":"aaa","password":"2222","role":2},
            {"id":3,"username":"bbb","password":"333","role":2},
        ];

        document.querySelector("#loginForm").onsubmit = function(e){
            e.preventDefault();
            var user = document.querySelector("#username").value;
            var pass = document.querySelector("#password").value;

            users.forEach(function (User) {
                if (user == User.username && pass == User.password){
                    window.location.assign("asset.html")
                }else{
                    Swal.fire({
                        icon:"error",
                        title:"Error",
                        text:"Login failed, try again"
                    })
                }
            })
        }

    </script>
</body>

</html>